{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/martinraba/Desktop/chat-app/src/fileUpload.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Button } from '@material-ui/core';\n\nconst ImageUpload = props => {\n  _s();\n\n  const [file, setFile] = useState();\n  const [previewUrl, setPreviewUrl] = useState();\n  const filePickerRef = useRef();\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n\n    const fileReader = new FileReader();\n\n    fileReader.onload = () => {\n      setPreviewUrl(fileReader.result);\n    };\n\n    fileReader.readAsDataURL(file);\n  }, [file]);\n  console.log(file);\n\n  const pickedHandler = event => {\n    let pickedFile;\n\n    if (event.target.files && event.target.files.length === 1) {\n      pickedFile = event.target.files[0];\n      setFile(pickedFile);\n    }\n  };\n\n  const pickImageHandler = () => {\n    filePickerRef.current.click();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-control\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ref: filePickerRef,\n      style: {\n        display: 'none'\n      },\n      type: \"file\",\n      accept: \".jpg,.png,.jpeg\",\n      onChange: pickedHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `image-upload ${props.center && 'center'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"image-upload__preview\",\n        children: [previewUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: previewUrl,\n          alt: \"Preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 28\n        }, this), !previewUrl && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please pick an image.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        onClick: pickImageHandler,\n        children: \"PICK IMAGE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this);\n};\n\n_s(ImageUpload, \"L00hBQBPXOes7+WRZT38C3lNi00=\");\n\n_c = ImageUpload;\nexport default ImageUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"sources":["/Users/martinraba/Desktop/chat-app/src/fileUpload.js"],"names":["React","useRef","useState","useEffect","Button","ImageUpload","props","file","setFile","previewUrl","setPreviewUrl","filePickerRef","fileReader","FileReader","onload","result","readAsDataURL","console","log","pickedHandler","event","pickedFile","target","files","length","pickImageHandler","current","click","display","center"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,SAASC,MAAT,QAAuB,mBAAvB;;AAEA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAAA;;AAGzB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,EAAhC;AACA,QAAM,CAACO,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,EAA5C;AAEA,QAAMS,aAAa,GAAGV,MAAM,EAA5B;AAEAE,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACI,IAAL,EAAW;AACT;AACD;;AACD,UAAMK,UAAU,GAAG,IAAIC,UAAJ,EAAnB;;AACAD,IAAAA,UAAU,CAACE,MAAX,GAAoB,MAAM;AACxBJ,MAAAA,aAAa,CAACE,UAAU,CAACG,MAAZ,CAAb;AACD,KAFD;;AAGAH,IAAAA,UAAU,CAACI,aAAX,CAAyBT,IAAzB;AACD,GATQ,EASN,CAACA,IAAD,CATM,CAAT;AAWAU,EAAAA,OAAO,CAACC,GAAR,CAAYX,IAAZ;;AAEA,QAAMY,aAAa,GAAGC,KAAK,IAAI;AAC7B,QAAIC,UAAJ;;AACA,QAAID,KAAK,CAACE,MAAN,CAAaC,KAAb,IAAsBH,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmBC,MAAnB,KAA8B,CAAxD,EAA2D;AACzDH,MAAAA,UAAU,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAb;AACAf,MAAAA,OAAO,CAACa,UAAD,CAAP;AACD;AACF,GAND;;AAQA,QAAMI,gBAAgB,GAAG,MAAM;AAC7Bd,IAAAA,aAAa,CAACe,OAAd,CAAsBC,KAAtB;AACD,GAFD;;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACE;AACE,MAAA,GAAG,EAAEhB,aADP;AAEE,MAAA,KAAK,EAAE;AAAEiB,QAAAA,OAAO,EAAE;AAAX,OAFT;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,MAAM,EAAC,iBAJT;AAKE,MAAA,QAAQ,EAAET;AALZ;AAAA;AAAA;AAAA;AAAA,YADF,eAQE;AAAK,MAAA,SAAS,EAAG,gBAAeb,KAAK,CAACuB,MAAN,IAAgB,QAAS,EAAzD;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA,mBACGpB,UAAU,iBAAI;AAAK,UAAA,GAAG,EAAEA,UAAV;AAAsB,UAAA,GAAG,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA,gBADjB,EAEG,CAACA,UAAD,iBAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFlB;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE,QAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAwB,QAAA,OAAO,EAAEgB,gBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YARF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAqBD,CAtDH;;GAAMpB,W;;KAAAA,W;AAwDJ,eAAeA,WAAf","sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { Button } from '@material-ui/core';\n\nconst ImageUpload = props => {\n\n\n    const [file, setFile] = useState();\n    const [previewUrl, setPreviewUrl] = useState();\n  \n    const filePickerRef = useRef();\n  \n    useEffect(() => {\n      if (!file) {\n        return;\n      }\n      const fileReader = new FileReader();\n      fileReader.onload = () => {\n        setPreviewUrl(fileReader.result);\n      };\n      fileReader.readAsDataURL(file);\n    }, [file]);\n\n    console.log(file)\n  \n    const pickedHandler = event => {\n      let pickedFile;\n      if (event.target.files && event.target.files.length === 1) {\n        pickedFile = event.target.files[0];\n        setFile(pickedFile);\n      } \n    };\n  \n    const pickImageHandler = () => {\n      filePickerRef.current.click();\n    };\n  \n    return (\n      <div className=\"form-control\">\n        <input\n          ref={filePickerRef}\n          style={{ display: 'none' }}\n          type=\"file\"\n          accept=\".jpg,.png,.jpeg\"\n          onChange={pickedHandler}\n        />\n        <div className={`image-upload ${props.center && 'center'}`}>\n          <div className=\"image-upload__preview\">\n            {previewUrl && <img src={previewUrl} alt=\"Preview\" />}\n            {!previewUrl && <p>Please pick an image.</p>}\n          </div>\n          <Button color=\"primary\" onClick={pickImageHandler}>\n            PICK IMAGE\n          </Button>\n        </div>\n     \n      </div>\n    );\n  };\n  \n  export default ImageUpload;\n  "]},"metadata":{},"sourceType":"module"}